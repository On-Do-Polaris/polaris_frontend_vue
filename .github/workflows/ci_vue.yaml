# ci_vue.yaml
name: Vue CI

on:
  push:
    branches: [develop]
  pull_request:
    branches: [main, develop]

jobs:
  vue-ci:
    runs-on: ubuntu-22.04

    steps:
      - name: 코드 체크아웃
        uses: actions/checkout@v4

      - name: Node 22 설정
        uses: actions/setup-node@v4
        with:
          node-version: "22.11.0"
          cache: "npm"

      - name: 의존성 설치
        run: npm ci

      - name: 코드 스타일 검사 (ESLint)
        run: npx eslint . --ext .ts,.tsx,.js,.jsx,.vue

      - name: 코드 포맷 검사 (Prettier)
        run: npx prettier --check .

      - name: 타입 체크 (TypeScript)
        run: npx tsc --noEmit

      - name: 단위 테스트 실행 (Vitest)
        run: npx vitest run
